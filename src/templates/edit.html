<!DOCTYPE html>
<html lang="fi">
  <head>
    <meta charset="utf-8" />
    <title>Muokkaa viitettä {{ reference.fields[ReferenceField.KEY] }}</title>
  </head>
  <body>
    <h1>Muokkaa viitettä {{ reference.fields[ReferenceField.KEY] }}</h1>

    <form method="POST" action="{{ url_for('edit', reference_id=reference.id) }}">
      {% for field, data in reference_data[reference.type]["fields"].items() %} {% if
      reference_fields[field]["type"] == ReferenceFieldType.TEXT %}

      <label>{{ reference_fields[field]["name"] }}</label><br />
      <input
        type="text"
        name="{{ field.value }}"
        value="{% if reference.fields[field] %}{{ reference.fields[field] }}{% endif %}" />
      <br />

      {% elif reference_fields[field]["type"] == ReferenceFieldType.TEXTAREA %}

      <label>{{ reference_fields[field]["name"] }}</label><br />
      <textarea name="{{ field.value }}">
{% if reference.fields[field] %}{{ reference.fields[field] }}{% endif %}</textarea
      ><br />

      {% elif reference_fields[field]["type"] == ReferenceFieldType.NUMBER %}

      <label>{{ reference_fields[field]["name"] }}</label><br />
      <input
        type="number"
        name="{{ field.value }}"
        value="{% if reference.fields[field] %}{{ reference.fields[field] }}{% endif %}" />
      <br />

      {% endif %} {% endfor %}

      <button type="submit">Muokkaa</button>
    </form>

    <br /><a href="{{ url_for('index') }}">Takaisin</a>
  </body>
</html>
